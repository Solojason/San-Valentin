/* src/components/Celebration/celebration.css */

/* =========================
   Base
========================= */
.cel-wrap {
  min-height: 100svh;
  padding: 22px 16px;
  background: #fff0f3;
  font-family: "Poppins", system-ui, -apple-system, Segoe UI, Roboto, Arial;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;

  position: relative;
  overflow: hidden; /* para que no se vean corazones fuera */
}

.cel-title,
.cel-sub,
.cel-hint,
.cel-section {
  position: relative;
  z-index: 1; /* encima del fondo de corazones */
}

.cel-title {
  margin: 10px 0 0;
  text-align: center;
  color: #e63946;
  font-size: clamp(1.6rem, 3vw, 2.3rem);
}

.cel-sub {
  margin: 0;
  text-align: center;
  color: #1d3557;
  opacity: 0.9;
  max-width: 820px;
}

.cel-sub--spaced {
  margin-top: 8px;
}

.cel-hint {
  margin-top: 14px;
  font-weight: 800;
  color: #1d3557;
  opacity: 0.85;
}

/* Botón opcional de audio (si lo vuelves a activar) */
.cel-audio-unlock {
  position: fixed;
  top: 14px;
  right: 14px;
  z-index: 999;
  border: none;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.85);
  backdrop-filter: blur(10px);
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.12);
  font-weight: 800;
  cursor: pointer;
}

/* =========================
   Secciones / Cards
========================= */
.cel-section {
  width: min(980px, 96vw);
  margin-top: 18px;
}

.cel-h2 {
  margin: 0;
  text-align: center;
  color: #1d3557;
  font-size: clamp(1.25rem, 2.4vw, 1.55rem);
}

.cel-heart {
  display: inline-block;
  transform: translateY(1px);
}

.cel-card {
  margin-top: 12px;
  background: rgba(255, 255, 255, 0.72);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 20px;
  padding: 14px 14px;
  box-shadow: 0 16px 40px rgba(0, 0, 0, 0.08);
}

.cel-mini {
  margin: 0;
  color: #1d3557;
  opacity: 0.92;
  line-height: 1.55;
  font-weight: 600;
  text-align: center;
}

/* separa párrafos dentro de card sin inline styles */
.cel-card .cel-mini + .cel-mini {
  margin-top: 10px;
}

.cel-card a {
  color: #e63946;
  font-weight: 800;
  word-break: break-word;
}

/* =========================
   Collage
========================= */
.cel-collage {
  width: 100%;
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(4, minmax(0, 1fr));
  gap: 12px;
}

@media (max-width: 900px) {
  .cel-collage {
    grid-template-columns: repeat(3, minmax(0, 1fr));
  }
}

@media (max-width: 560px) {
  .cel-collage {
    grid-template-columns: repeat(2, minmax(0, 1fr));
  }
}

.cel-tile {
  position: relative;
  border: none;
  padding: 0;
  cursor: pointer;
  background: transparent;
  border-radius: 18px;
  overflow: hidden;
  box-shadow: 0 14px 30px rgba(0, 0, 0, 0.1);
  transform: translateZ(0);
  transition: transform 180ms ease, box-shadow 180ms ease;
}

.cel-tile:hover {
  transform: translateY(-2px) scale(1.01);
  box-shadow: 0 18px 40px rgba(0, 0, 0, 0.14);
}

.cel-photo {
  width: 100%;
  aspect-ratio: 4 / 3; /* marco consistente */
  object-fit: cover;   /* collage: se ve lleno y bonito */
  display: block;
}

.cel-tile-glow {
  position: absolute;
  inset: 0;
  pointer-events: none;
  background: radial-gradient(circle at 50% 20%, rgba(230, 57, 70, 0.22), transparent 55%);
  opacity: 0;
  transition: opacity 180ms ease;
}

.cel-tile:hover .cel-tile-glow {
  opacity: 1;
}

/* =========================
   Itinerario (IMAGEN COMPLETA)
   - Sin recorte: object-fit: contain
========================= */
.cel-itinerary {
  margin-top: 14px;
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px;
}

@media (max-width: 820px) {
  .cel-itinerary {
    grid-template-columns: 1fr;
  }
}

.cel-it-card {
  display: flex;
  flex-direction: column;
  overflow: hidden;
  border-radius: 18px;
  background: rgba(255, 255, 255, 0.68);
  border: 1px solid rgba(0, 0, 0, 0.06);
  box-shadow: 0 14px 34px rgba(0, 0, 0, 0.08);
}

.cel-it-imgWrap {
  position: relative;
  width: 100%;
  aspect-ratio: 16 / 9; /* marco */
  overflow: hidden;
  background: rgba(255, 255, 255, 0.55);
}

.cel-it-img {
  width: 100%;
  height: 100%;
  object-fit: contain; /* ✅ NO recorta */
  display: block;
  padding: 10px;       /* respiración para imágenes con texto */
  transform: none;
}

.cel-it-tag {
  position: absolute;
  left: 10px;
  bottom: 10px;
  background: rgba(255, 255, 255, 0.82);
  border: 1px solid rgba(0, 0, 0, 0.06);
  border-radius: 999px;
  padding: 6px 10px;
  font-weight: 800;
  color: #1d3557;
  font-size: 0.88rem;
  backdrop-filter: blur(8px);
}

.cel-it-body {
  padding: 12px 12px 14px;
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.cel-it-title {
  margin: 0;
  color: #1d3557;
  font-weight: 900;
  font-size: 1.03rem;
}

.cel-it-desc {
  margin: 0;
  color: #1d3557;
  opacity: 0.9;
  line-height: 1.45;
  font-weight: 600;
}

/* =========================
   Real del Monte mini-grid
========================= */
.cel-rdm-grid {
  margin-top: 12px;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
  gap: 10px;
}

@media (max-width: 820px) {
  .cel-rdm-grid {
    grid-template-columns: 1fr;
  }
}

.cel-rdm-photoBtn {
  border: none;
  padding: 0;
  background: transparent;
  border-radius: 16px;
  overflow: hidden;
  cursor: pointer;
  position: relative;
}

.cel-rdm-photo {
  width: 100%;
  aspect-ratio: 4 / 3;
  object-fit: cover;
  display: block;
  transform: none;
}

.cel-rdm-glow {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at 50% 50%, rgba(230, 57, 70, 0.22), transparent 60%);
  opacity: 0;
  transition: opacity 160ms ease;
}

.cel-rdm-photoBtn:hover .cel-rdm-glow {
  opacity: 1;
}

/* =========================
   Calendario
========================= */
.cel-date-row {
  margin-top: 12px;
  display: flex;
  gap: 10px;
  align-items: center;
  justify-content: center;
  flex-wrap: wrap;
}

.cel-date {
  border: 1px solid rgba(0, 0, 0, 0.12);
  border-radius: 14px;
  padding: 10px 12px;
  font-weight: 700;
  color: #1d3557;
  background: rgba(255, 255, 255, 0.85);
}

.cel-badge {
  border-radius: 999px;
  padding: 8px 12px;
  font-weight: 900;
  background: rgba(255, 255, 255, 0.75);
  border: 1px solid rgba(0, 0, 0, 0.06);
  color: #1d3557;
}

.cel-badge.ok {
  background: rgba(46, 204, 113, 0.16);
  border-color: rgba(46, 204, 113, 0.38);
}

.cel-badge.warn {
  background: rgba(241, 196, 15, 0.18);
  border-color: rgba(241, 196, 15, 0.4);
}

.cel-toast {
  margin: 12px auto 0;
  max-width: 820px;
  text-align: center;
  padding: 10px 12px;
  border-radius: 16px;
  background: rgba(255, 255, 255, 0.8);
  border: 1px solid rgba(0, 0, 0, 0.06);
  color: #1d3557;
  font-weight: 800;
}

.cel-memory {
  margin-top: 10px;
  text-align: center;
}

/* =========================
   Modal
========================= */
.cel-modal {
  position: fixed;
  inset: 0;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(0, 0, 0, 0.45);
  backdrop-filter: blur(10px);
  padding: 18px;
}

.cel-modal-card {
  width: min(920px, 96vw);
  background: rgba(255, 255, 255, 0.92);
  border: 1px solid rgba(0, 0, 0, 0.1);
  border-radius: 22px;
  overflow: hidden;
  box-shadow: 0 18px 60px rgba(0, 0, 0, 0.25);
  animation: celPop 180ms ease-out;
  position: relative;
}

@keyframes celPop {
  from {
    transform: scale(0.96);
    opacity: 0;
  }
  to {
    transform: scale(1);
    opacity: 1;
  }
}

.cel-modal-close {
  position: absolute;
  top: 10px;
  right: 10px;
  z-index: 2;
  border: none;
  cursor: pointer;
  width: 40px;
  height: 40px;
  border-radius: 999px;
  background: rgba(255, 255, 255, 0.9);
  box-shadow: 0 10px 20px rgba(0, 0, 0, 0.18);
  font-weight: 900;
}

.cel-modal-img {
  width: 100%;
  height: min(62svh, 520px);
  object-fit: contain; /* modal SIEMPRE completa */
  background: #fff;
  display: block;
}

.cel-modal-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 10px;
  padding: 10px 12px;
}

.cel-modal-nav {
  border: none;
  cursor: pointer;
  padding: 10px 14px;
  border-radius: 999px;
  background: rgba(230, 57, 70, 0.12);
  color: #1d3557;
  font-weight: 900;
}

.cel-modal-caption {
  color: #1d3557;
  font-weight: 900;
  opacity: 0.9;
  text-align: center;
  flex: 1;
}

.cel-modal-note {
  padding: 0 12px 12px;
  text-align: center;
  color: #1d3557;
  opacity: 0.75;
  font-weight: 700;
}

/* =========================
   Fondo de corazones
========================= */
.cel-hearts {
  position: absolute;
  inset: 0;
  pointer-events: none;
  z-index: 0;
}

.cel-heart-float {
  position: absolute;
  bottom: -40px;
  opacity: 0.18;
  font-size: 22px;
  animation: celFloatUp linear infinite;
  filter: blur(0.2px);
}

@keyframes celFloatUp {
  from {
    transform: translateY(0) translateX(0) scale(0.9);
    opacity: 0;
  }
  15% {
    opacity: 0.18;
  }
  to {
    transform: translateY(-115vh) translateX(40px) scale(1.15);
    opacity: 0;
  }
}

/* Distribución “fake” con nth-child */
.cel-heart-float:nth-child(1)  { left: 6%;  animation-duration: 10s;  animation-delay: 0s;  font-size: 18px; }
.cel-heart-float:nth-child(2)  { left: 12%; animation-duration: 13s;  animation-delay: 2s;  font-size: 26px; }
.cel-heart-float:nth-child(3)  { left: 20%; animation-duration: 11s;  animation-delay: 1s;  font-size: 20px; }
.cel-heart-float:nth-child(4)  { left: 28%; animation-duration: 15s;  animation-delay: 3s;  font-size: 30px; }
.cel-heart-float:nth-child(5)  { left: 36%; animation-duration: 12s;  animation-delay: 0.5s; font-size: 22px; }
.cel-heart-float:nth-child(6)  { left: 44%; animation-duration: 14s;  animation-delay: 2.5s; font-size: 24px; }
.cel-heart-float:nth-child(7)  { left: 52%; animation-duration: 10.5s; animation-delay: 1.8s; font-size: 18px; }
.cel-heart-float:nth-child(8)  { left: 60%; animation-duration: 16s;  animation-delay: 3.2s; font-size: 32px; }
.cel-heart-float:nth-child(9)  { left: 68%; animation-duration: 12.5s; animation-delay: 0.8s; font-size: 20px; }
.cel-heart-float:nth-child(10) { left: 76%; animation-duration: 14.5s; animation-delay: 2.2s; font-size: 26px; }
.cel-heart-float:nth-child(11) { left: 84%; animation-duration: 11.5s; animation-delay: 1.1s; font-size: 19px; }
.cel-heart-float:nth-child(12) { left: 92%; animation-duration: 15.5s; animation-delay: 3.6s; font-size: 28px; }
.cel-heart-float:nth-child(13) { left: 9%;  animation-duration: 17s;  animation-delay: 4.2s; font-size: 34px; }
.cel-heart-float:nth-child(14) { left: 24%; animation-duration: 13.5s; animation-delay: 4.8s; font-size: 21px; }
.cel-heart-float:nth-child(15) { left: 41%; animation-duration: 12.2s; animation-delay: 5.1s; font-size: 23px; }
.cel-heart-float:nth-child(16) { left: 58%; animation-duration: 16.4s; animation-delay: 5.7s; font-size: 30px; }
.cel-heart-float:nth-child(17) { left: 73%; animation-duration: 14.1s; animation-delay: 6.3s; font-size: 24px; }
.cel-heart-float:nth-child(18) { left: 88%; animation-duration: 11.8s; animation-delay: 6.9s; font-size: 20px; }

/* Accesibilidad */
@media (prefers-reduced-motion: reduce) {
  .cel-heart-float {
    animation: none;
    opacity: 0.08;
  }
}

/* Extra pequeño */
@media (max-width: 420px) {
  .cel-section {
    width: min(980px, 94vw);
  }
  .cel-card {
    padding: 14px 12px;
  }
}
